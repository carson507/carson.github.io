---
layout: post
title: matlibplot中axes_bar多Y轴的一个大坑
date: 2020-05-21T13:37:44.000Z
categories: update
---

<img src="/images/fulls/01.jpg" class="fit image"> 

下面这段代码看似没有问题，但是y1和y2同时有数据的时候，如果y1的值一直是小于y2的值，则图片上只显示了y2的柱状图，y1的被覆盖了！！！
所以要保持Y1的值大于Y2的值，可以加上判断条件等等，或者点到顺序。  如果是随机的   那就有点麻烦   暂时没有想到更好的办法.
```python
self.x = self.x + 1
if self.x <= 60:
    self.dr.axes.bar(self.x1, self.y1[-60:], width=0.8, color='red', label="UL")   #label一定要，否则重叠的时候就只能看到一个Y轴数据图
    self.dr.axes.bar(self.x1, self.y2[-60:], width=0.8, color='lightgreen', label="DL")
else:
    self.x1.append(self.x)
    self.dr.axes.bar(self.x1[-60:], self.y1[-60:], width=0.8, color='red', label="UL")
    self.dr.axes.bar(self.x1[-60:], self.y2[-60:], width=0.8, color='lightgreen', label="DL")
self.dr.axes.legend(loc="upper left")    # 防止label和图像重合显示不出来
self.dr.draw()
```

